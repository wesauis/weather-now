/**
 * This is a simple script to allow me to import any of bas.dev icons easily
 */

const { readdirSync, writeFileSync } = require("fs");

let svgs = readdirSync("./submodules/weather-icons/production/fill/svg");

svgs = svgs.map((svg) => {
  const base = "../submodules/weather-icons/production/fill/svg";

  const path = `${base}/${svg}`;
  const component = svg
    .replace(".svg", "")
    .replace(/(?:^|-)([a-z0-9])/g, (_substr, rune) => rune.toUpperCase());

  return `export { default as ${component} } from "${path}";`;
});

writeFileSync(
  "./components/weather-icons.ts",
  `/*
  DO NOT EDIT THIS FILE!
  Genetated with \`pnpm run codegen\`
  Created At: ${new Date().toLocaleString()}
*/

${svgs.join("\n")}
`
);
